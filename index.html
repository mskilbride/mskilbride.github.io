<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Forest Test</title>
    <meta name="description" content="Forest Test">
    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script src="scripts\widgets\dist\aframe-ui-widgets.min.js"></script> <!-- Loads buttons, dials and other widgets -->
    <script src="scripts\cursor-components\dist\aframe-mouse-cursor-component.min.js"></script>
    <script src="scripts\environment\dist\aframe-environment-component.min.js"></script> <!-- Loads predetermined forest background -->
    <script src="scripts\extras\dist\aframe-extras.js"></script> <!-- Loads movement contols, mouse controls, and checkpoint system -->
    <script src="scripts\physics\dist\aframe-physics-system.js"></script> <!-- Loads physics system *has not worked yet in this scene* -->
    <script src="scripts\teleport-controls\dist\aframe-teleport-controls.js"></script>
    <script src="scripts\main.js"></script>
  </head>
  <body>

    <a-scene>

        <a-assets>
          <a-mixin id="checkpoint"></a-mixin>
          <a-mixin id="checkpoint-hovered" color="#6CEEB5"></a-mixin>
          <a-mixin id="beveled-square" geometry="primitive: cone; radiusTop: 0.15; radiusBottom: 0.19; height: 0.02; segmentsRadial: 4; segmentsHeight: 1" rotation="0 45 0"></a-mixin>
          <a-mixin id="square" geometry="primitive: box; width: 0.18; height: 0.025; depth: 0.18;" position="0 0.02 0"></a-mixin>
          <a-mixin id="blue" material="color: #1E2768;"></a-mixin>
          <a-mixin id="darkgreen" material="color: #22FF90;"></a-mixin>
          <a-mixin id="yellow" material="color: #FFF88E;"></a-mixin>
          <a-mixin id="offset" position="0 0.01 0"></a-mixin>
        </a-assets>

              <!-- Environment -->
        <a-entity environment="preset: forest; shadow: true; ground: hills;"></a-entity>

              <!-- Player -->
            <a-entity id="Player" position="0 1.6 0" rotation="">
                <a-entity id="Camera" camera mouse-cursor="" look-controls="pointerLockEnabled: true">
                  <a-entity id="Cursor"
                    touch-listener
                    teleport-controls="teleportOrigin: #Camera; startEvents:starttouch; endEvents:endtouch; curveShootingSpeed:15; hitCylinderRadius:1"
                    cursor="downEvents: ; fuse: false; upEvents: "
                    position="0 0 -1"
                    geometry="primitive:ring;radiusInner:0.02;radiusOuter:0.03"
                    material="color:#CCC;shader:flat"
                    visible="true"
                    raycaster="">
                  </a-entity>
                </a-entity>
          </a-entity>


              <!-- Checkpoints -->
              <a-entity position="1 0 1" rotation="0 0" scale="1 1 1" visible="true">
                <a-cylinder checkpoint="offset:0 1.6 0" radius="1" height="0.1" position="0 0 -5.2" color="#39BB82"></a-cylinder>
                <a-cylinder checkpoint="offset:0 1.6 0" radius="1" height="0.1" position="3 0 0" color="#39BB82"></a-cylinder>
                <a-cylinder checkpoint="offset:0 1.6 0" radius="1" height="0.1" position="-3 0 0" color="#39BB82"></a-cylinder>
              </a-entity>

              <a-box id="cube" color="red" position="5.5 0.6 1">
                <a-entity id="mybutton" ui-button="" position="-0.5 .6 -0.016" rotation="45 -89 0" scale="1 1 1" visible="true" cursor-listener=""></a-entity>
              </a-box>

    </a-scene>

    <script>
    // Setting the cube as the target for button being pressed
    var targetCube = document.querySelector('#cube');

    // When the button is pressed, change the cube to a random color.
    var mybutton = document.querySelector('#mybutton');
    mybutton.addEventListener('pressed', function () {
      var randomHexColor = Math.floor(Math.random() * 0xffffff).toString(16);
      targetCube.setAttribute('material', {
        color: '#' + randomHexColor
     });
    });
    </script>

  </body>
</html>
